# Telegram Garant Bot

Бот-гарант для безопасных сделок с криптовалютой (TON, BTC).

## Возможности

- Создание сделок между пользователями
- Поддержка TON и BTC
- Защита от SQL-инъекций (параметризованные запросы)
- Статистика и рейтинг пользователей
- Админ-панель с логами
- Автоматическая отмена просроченных сделок
- Удобный UI с кнопками

## Быстрый старт

### 1. Настройка

Скопируйте .env.example в .env и вставьте токен бота:

TELEGRAM_BOT_TOKEN=your_bot_token_here

Получите токен через @BotFather в Telegram.

### 2. Запуск

docker-compose up -d --build

Проверка логов:

docker logs -f garant_bot

### 3. Остановка

docker-compose down

## Структура проекта

garant-bot/
├── docker-compose.yml
├── init.sql
├── .env
├── bot/
│ ├── main.py
│ ├── config.py
│ ├── database.py
│ ├── handlers/
│ └── keyboards/

## Команды бота

Для пользователей:

- /start - Регистрация и главное меню
- Мои сделки - Список активных сделок
- Создать сделку - Создание новой сделки
- Профиль - Статистика и рейтинг
- Кошельки - Управление адресами

Для администраторов:

- /admin - Админ-панель
- /users - Список пользователей
- /deals - Список всех сделок
- /logs - Последние логи системы
- /stats - Детальная статистика

## База данных

Таблицы:

- users - Пользователи и статистика
- deals - Сделки
- transactions - Транзакции
- event_log - Логи действий
- admins - Администраторы системы

## Безопасность

- Все SQL-запросы параметризованы
- Логирование всех действий
- Хеширование паролей
- Валидация входных данных

## Тестирование

1. Запустите бота
2. Откройте Telegram и найдите бота
3. Отправьте /start
4. Создайте тестовую сделку
